<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vending Machine</title>
  </head>
  <body>
    <script>
      const products = [
        { id: 1, name: "Soda", price: 20 },
        { id: 2, name: "Chips", price: 15 },
        { id: 3, name: "Candy", price: 10 },
        { id: 4, name: "Juice", price: 25 },
        { id: 5, name: "Chocolate", price: 30 },
      ];

      let walletAmount = 40;

      console.log("Welcome to the Virtual Vending Machine!");
      console.log(`Your Wallet Amount: Rs.${walletAmount}\n`);
      console.log("Here are the available products:");
      products.forEach((product) => {
        console.log(`${product.id}. ${product.name} - Rs.${product.price}`);
      });

      function purchaseItem() {
        while (walletAmount > 0) {
          const productName = prompt(
            "Enter the product name you want to purchase (or type 'exit' to quit):"
          );

          if (productName.toLowerCase() === "exit") {
            console.log("Thank you for using the Virtual Vending Machine!");
            break;
          }

          let product = null;
          for (let i = 0; i < products.length; i++) {
            if (products[i].name.toLowerCase() === productName.toLowerCase()) {
              product = products[i];
              break;
            }
          }

          if (product === null) {
            console.log(
              `Product "${productName}" not found. Please try again.`
            );
            continue;
          }

          if (walletAmount >= product.price) {
            walletAmount -= product.price;
            console.log(`You bought a ${product.name} for Rs.${product.price}`);
            console.log(`Your Wallet amount now: Rs.${walletAmount}\n`);
          } else {
            console.log(
              `Not enough money to buy ${product.name} for Rs.${product.price}`
            );
            console.log(`Your Wallet amount now: Rs.${walletAmount}\n`);
          }
        }

        if (walletAmount === 0) {
          console.log(
            "You have no money left in your wallet. Thank you for using the Virtual Vending Machine!"
          );
        }
      }

      purchaseItem();
    </script>
  </body>
</html>
